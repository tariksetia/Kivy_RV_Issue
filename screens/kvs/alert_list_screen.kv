<Grid@GridLayout>:
    size_hint_y:None
    height: self.minimum_height

<AlertListScreen>:
    GridLayout:
        cols:1
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex("#F4F5F8")
            Rectangle:
                pos: self.pos
                size: self.size
        GridLayout:
            cols:1
            padding: sp(25), sp(25),sp(10) ,sp(10)
            spacing: sp(10)
            size_hint_y: None
            height: sp(180)
            minimum_height: sp(180)
            
            Label:
                font_size: sp(32)
                color: utils.get_color_from_hex("#0A145A")
                size_hint_y: None
                text_size: self.width, None
                height: self.texture_size[1]
                halign: "left"
                bold: True
                valign: "middle"
                text: "Alert List"

            
        AlertListBox:
            RecycleView:
                id: alert_list_view
                scroll_type: ['bars', 'content']
                viewclass: 'Card'
                key_size:'height'
                RecycleGridLayout:
                    cols:1
                    default_size: None,1
                    default_size_hint: 1, None
                    size_hint:1 ,None
                    height: self.minimum_height
                    spacing: dp(2)

        

<AlertCard>:
    spacing: sp(20),sp(20)
    padding: sp(20),sp(20),sp(20),sp(20)
    cols:1
    size_hint_y: None
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#e8e8ef")
        Line:
            width: 1.5
            rectangle: self.x, self.y, self.width, self.height
        Color:
            rgba: utils.get_color_from_hex(self.background_color)
        Rectangle:
            pos: self.pos
            size: self.size
    
    Grid:
        id: first_layer
        spacing: sp(20), sp(20)
        rows: 1
        BackgroundLabel:
            text: root.status
        BorderLabel:
            text: root.category
    
    Grid:
        id: second_layer
        cols: 2
        spacing: sp(20),sp(20)
        Grid:
            cols:1
            size_hint_x: 0.2
            FieldName:
                text:"SENT"
            FieldValue:
                text: root.sent
        Grid:
            cols:1
            FieldName:
                text:"SENDER"
            FieldValue:
                text: root.sender
    
    Grid:
        id: third_layer
        cols:2
        size_hint_y: None
        spacing: sp(20),sp(20)
        Grid:
            cols:1
            size_hint_x: 0.2
            FieldName:
                text:"EXPIRES"
            FieldValue:
                text: root.expires
        Grid:
            cols:1
            FieldName:
                text:"DESCRIPTION"
            FieldValueWrappable:
                text: root.long_text

    Grid:
        id: fourth_layer
        cols:2
        spacing: sp(20),sp(20)
        Grid:
            cols:1
            size_hint_x: 0.2
            FieldName:
                text:"LANGUAGE"
            FieldValue:
                text: root.language
        Grid:
            cols:1
            FieldName:
                text:"TITLE"
            FieldValueWrappable:
                text: root.short_text
    
    Grid:
        id: fifth_layer
        cols:2
        spacing: sp(20),sp(20)
        Grid:
            cols:1
            size_hint_x: 0.2
            FieldName:
                text:"CATEGORY"
            FieldValue:
                text: root.category
        Grid:
            cols:1
            FieldName:
                text:"EVENT"
            FieldValue:
                text: root.event
    
    Grid:
        id: sixth_layer
        cols:2
        spacing: sp(20),sp(20)
        Grid:
            cols:1
            size_hint_x: 0.2
            FieldName:
                text:"AREA"
            FieldValue:
                text: root.area_desc
        Grid:
            cols:1
            FieldName:
                text:"ID"
            FieldValue:
                text: root.alert_id
    
    StackLayout:
        orientation:'lr-tb'
        spacing: sp(20), sp(20)
        Grid:
            size_hint_x: None
            width: self.minimum_width
            rows: 1
            id: alert_seventh
            spacing: 0
            padding: 0,0,0,0
            FlatToggleButton:
                text: "English TXT"
                on_release: root.show_english()
            FlatToggleButton:
                text: "Spanish TXT"
                on_release: root.show_spanish()
            FlatButton:
                text: "CAP XML"

            FlatButton:
                text: "Area on Map"

        Grid:
            rows:1
            size_hint_x: None
            width: self.minimum_width
            FlatButton:
                markup: True
                text: " Show Alert Details"


<FlatToggleButton@ToggleButton>
    background_normal: '' 
    background_down: ''
    background_color: utils.get_color_from_hex('#FFFFFF') if self.state=='normal' else utils.get_color_from_hex('#787BA3')
    color: utils.get_color_from_hex("#0B145A") if self.state=='normal' else utils.get_color_from_hex('#FFFFFF')
    font_size: sp(14)
    font_name: './cdc.ttf'
    size_hint: (None,None)
    width: self.texture_size[0] + sp(20)
    height: self.texture_size[1] + sp(20)
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#D8D9E5")
        Line:
            width: 2.5
            rectangle: self.x, self.y, self.width, self.height


<FlatButton>
    background_normal: '' 
    background_down: ''
    background_color: utils.get_color_from_hex('#FFFFFF') if self.state=='normal' else utils.get_color_from_hex('#787BA3')
    color: utils.get_color_from_hex("#0B145A") if self.state=='normal' else utils.get_color_from_hex('#FFFFFF')
    font_size: sp(14)
    font_name: './cdc.ttf'
    size_hint: (None,None)
    width: self.texture_size[0] + sp(20)
    height: self.texture_size[1] + sp(20)
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#D8D9E5")
        Line:
            width: 2.5
            rectangle: self.x, self.y, self.width, self.height


<FieldName>:
    font_size: sp(12)
    font_name: './cdc.ttf'
    color: utils.get_color_from_hex("#757BA0")
    size_hint_y: None
    text_size: self.width, None
    height: self.texture_size[1]
    halign: "left"
    bold: True
    valign: "middle"

<FieldValue>:
    font_size: sp(14)
    font_name: './cdc.ttf'
    color: utils.get_color_from_hex("#0B145A")
    size_hint_y: None
    text_size: self.width, None
    height: self.texture_size[1]
    halign: "left"
    bold: True
    valign: "middle"

<FieldValueWrappable>
    size_hint_y: None
    text_size: self.width, None
    height: self.texture_size[1]
    font_size: sp(14)
    font_name: './cdc.ttf'
    color: utils.get_color_from_hex("#0B145A")
    halign: "left"
    bold: True
    valign: "middle"


<BorderLabel>:
    font_size: sp(12)
    font_name: './cdc.ttf'
    color: utils.get_color_from_hex("#4b5ace")
    size_hint: (None,None)
    width: self.texture_size[0] + sp(10)
    height: self.texture_size[1] + sp(7)
    halign: "center"
    bold: True
    valign: "middle"
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#e8e8ef")
        Line:
            width: 3.1
            rectangle: self.x, self.y, self.width, self.height
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            pos: self.pos
            size: self.size

<BackgroundLabel>:
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#fc960c")
        Line:
            width: 2.5
            rectangle: self.x, self.y, self.width, self.height
        Color:
            rgba: utils.get_color_from_hex("#fc960c")
        Rectangle:
            pos: self.pos
            size: self.size
    font_size: sp(12)
    font_name: './cdc.ttf'
    color: utils.get_color_from_hex("#ffffff")
    size_hint: (None,None)
    width: self.texture_size[0] + sp(10)
    height: self.texture_size[1] + sp(7)
    halign: "center"
    bold: True
    valign: "middle"


<Card>:
    spacing: sp(10)
    padding: sp(20),sp(20),sp(20),sp(20)
    orientation:'vertical'
    size_hint_y: None
    height: self.minimum_height+ sp(30)
    canvas.before:
        Color:
            rgba: utils.get_color_from_hex("#e8e8ef")
        Line:
            width: 1.5
            rectangle: self.x, self.y, self.width, self.height
        Color:
            rgba: utils.get_color_from_hex(self.background_color)
        Rectangle:
            pos: self.pos
            size: self.size
    
    BoxLayout:
        orientation:'horizontal'
        size_hint_y: None
        height: dp(16)
        id: first_layer
        spacing: sp(10)
        BackgroundLabel:
            text: root.status
        BorderLabel:
            text: root.category
    
    BoxLayout:
        orientation:'horizontal'
        size_hint_y: None
        height: self.minimum_height
        id: second_layer
        spacing: sp(20)
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.2
            FieldName:
                text:"SENT"
            FieldValue:
                text: root.sent
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.7
            FieldName:
                text:"SENDER"
            FieldValue:
                text: root.sender
    
    BoxLayout:
        orientation:'horizontal'
        size_hint_y: None
        height: self.minimum_height
        id: third_layer
        spacing: sp(20)
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.2
            FieldName:
                text:"EXPIRES"
            FieldValue:
                text: root.expires
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.7
            FieldName:
                text:"DESCRIPTION"
            FieldValueWrappable:
                text: root.long_text
    
    BoxLayout:
        size_hint_y: None
        height: self.minimum_height
        orientation:'horizontal'
        id: fourth_layer
        spacing: sp(20)
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.2
            FieldName:
                text:"LANGUAGE"
            FieldValue:
                text: root.language
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.7
            FieldName:
                text:"TITLE"
            FieldValueWrappable:
                text: root.short_text
    
    BoxLayout:
        size_hint_y: None
        height: self.minimum_height
        orientation:'horizontal'
        id: fifth_layer
        spacing: sp(20)
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.2
            FieldName:
                text:"CATEGORY"
            FieldValue:
                text: root.category
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.7
            FieldName:
                text:"EVENT"
            FieldValue:
                text: root.event
    
    BoxLayout:
        orientation:'horizontal'
        id: sixth_layer
        spacing: sp(20)
        size_hint_y: None
        height: self.minimum_height
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height

            orientation:'vertical'
            size_hint_x: 0.2
            FieldName:
                text:"AREA"
            FieldValue:
                text: root.area_desc
        BoxLayout:
            size_hint_y: None
            height: self.minimum_height
            orientation:'vertical'
            size_hint_x: 0.7
            FieldName:
                text:"ID"
            FieldValue:
                text: root.alert_id
    
   
    
    

